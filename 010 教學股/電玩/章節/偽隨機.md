**頭頁**
示範隨機(備案)
用python程式隨機抽一個人，直接發獎品
→ 抽中的人再給一個獎品

---

講到這裡，終於可以來談談所謂的「偽」隨機是為什麼會這樣稱呼了。

物理世界的遊戲的隨機：洗牌、骰骰子，真隨機


---
AI
## 遊戲中的「幸運」總是那麼真實嗎？—— 揭秘看不見的機率魔法

你是否曾經在玩遊戲時，有過這樣的疑惑：為什麼我連續好幾次都抽不到想要的稀有角色？為什麼對手的關鍵一擊總是能觸發暴擊，而我的角色卻像被詛咒了一樣？又或者，在一些強調「隨機掉落」的遊戲中，你是否感覺某些物品總是難以獲得，彷彿冥冥之中有股力量在操控？

別懷疑你的直覺！在許多你熱愛的遊戲背後，那看似隨機的結果，很可能並非完全由命運決定，而是經過遊戲設計師精心編排的「偽隨機」。

**先來思考一個令人沮喪的狀況：** 假設在一款對戰遊戲中，你的角色的暴擊率是 10%。那麼，連續攻擊 13 次都未能觸發暴擊的機率是多少呢？

（停頓一下，讓讀者思考或嘗試計算）

如果你進行了簡單的計算，你會發現這個機率大約是 (1−0.1)13≈0.254，也就是大約 25.4%。這個機率並不低，意味著每四次嘗試，就可能發生一次連續 13 次不暴擊的倒霉事！想像一下，在激烈的戰鬥中，關鍵時刻連續 13 次攻擊都未能暴擊，這會是多麼令人崩潰的體驗？

**這時候，遊戲設計師就要出來「拯救」你了！** 他們知道，純粹的隨機性雖然真實，但有時會嚴重影響玩家的遊戲體驗，甚至導致玩家流失。因此，「偽隨機」技術應運而生。

**什麼是偽隨機？它又是如何運作的呢？**

簡單來說，偽隨機並非真正的隨機，而是通過特定的數學算法模擬出看似隨機的結果。它的目標是在保證一定的隨機性的前提下，讓遊戲體驗更加平滑，避免極端情況的頻繁發生，並在某些情況下給予玩家「幸運」的感覺。

其中一種常見的偽隨機算法就是我們之前提到過的 **偽隨機分佈 (Pseudo-Random Distribution, PRD)**。它的核心思想是：**如果某個事件在一段時間內沒有發生，那麼它在接下來發生的機率會逐漸增加。**

以暴擊為例，一個簡化的 PRD 模型可能是這樣的：
$$
P(N) = \text{min} (C \times N, 100\%)
$$

- 你的角色第 $N$ 暴擊率是 $P(N)$。
- 每次攻擊未暴擊時，下次攻擊的暴擊率會增加一個固定的增量 C。
- 一旦觸發暴擊，暴擊率會重置回基礎值 P。

這樣一來，即使你的基礎暴擊率不高，連續多次不暴擊後，下一次暴擊的機率也會顯著提高，從而避免了長時間的「非洲人」體驗。

**那麼，這個增量 C 是如何確定的呢？** 
$$
N = 1,2,3,\dots,1 / C
$$
- 攻擊次數 $N$ 的取值範圍＝$\text{ceil}(1, 1/C)$
這通常涉及到一些數學考量。遊戲設計師會根據期望的平均暴擊率和攻擊次數等因素，通過計算來找到一個合適的 C 值。例如，他們可能會設定一個目標：在平均 N 次攻擊內，角色至少觸發一次暴擊。
## 計算
### 🎯 **條件設定**

- 每次未暴擊，暴擊率增加 0.5
    
- 暴擊率不能超過 100%，所以最多到第 2 次攻擊就會保證暴擊
    

也就是說：

| 第 n 次攻擊 | 暴擊機率 P(n)) |
| ------- | ---------- |
| 1       | 0.5        |
| 2       | 1.0        |

---

### 📌 **計算每次發生暴擊的機率**

我們要算的是「**第 nnn 次才暴擊**」的機率 Pn​，表示前 n−1 次都沒中，第 n次才中。

#### 第 1 次暴擊：

- 暴擊機率是 $P(1) = 0.5$
    
- 所以 $P_1 = 0.5$
    

#### 第 2 次暴擊：

- 第一次沒中 → 機率 $1−0.5=0.5$
    
- 第二次必定中 → 機率 1
    
- 所以 $P_2 = 0.5 \times 1 = 0.5$
    

---

### 🧮 **計算期望值**

接著，我們根據這兩次的暴擊機率來計算期望值：
$$

E=∑n=1Nn⋅PnE = \sum_{n=1}^{N} n \cdot P_nE=n=1∑N​n⋅Pn​
$$

在這個例子裡：
$$

E = 1 \cdot 0.5 + 2 \cdot 0.5 = 0.5 + 1.0 = \boxed{1.5}
$$

---

### ✅ **解釋與直覺對齊**

這結果代表什麼呢？

- 雖然第一擊只有 50% 暴擊率，但如果不中，第二擊保證中。
    
- 所以玩家平均每 **1.5 次攻擊就會有一次暴擊**，比純隨機模型的平均 2 次（暴擊率 0.5）要穩定且略快。

## 深入偽隨機：體驗優化與設計巧思

在上一節，我們提出了幾個關於偽隨機的思考問題。現在，讓我們以這些問題為引導，更深入地探索偽隨機在遊戲中的應用和背後的設計理念。

### 應用
**思考一下：除了暴擊，你還能在哪些遊戲機制中看到偽隨機的應用？例如，物品掉落、技能觸發等等。**

偽隨機的應用非常廣泛，以下是一些常見的例子：

- **物品掉落：** 在角色扮演遊戲或刷寶遊戲中，稀有物品的掉落往往會採用偽隨機機制。例如，連續擊殺同一個怪物而沒有掉落稀有物品時，下一次掉落的機率可能會被悄悄提高，以避免玩家長時間的徒勞感。一些遊戲甚至會設計「厄運保護」系統，確保在一定次數的嘗試後必定掉落稀有物品。
- **技能觸發：** 一些技能的觸發並非 100%，而是有一定概率。為了避免玩家連續多次技能觸發失敗而影響戰鬥流程，遊戲可能會採用類似 PRD 的機制，提高技能在連續未觸發後的觸發概率。
- **AI 行為：** 遊戲中的 AI 行為看似隨機，但實際上往往經過精心設計，以提供具有挑戰性且多樣化的體驗。例如，AI 在選擇攻擊目標或釋放技能時，可能會根據一定的概率和當前的戰鬥情況做出決策。為了避免 AI 行為過於可預測，開發者可能會引入一些偽隨機的因素，讓 AI 的行為更具變化性。
- **地圖生成：** 在一些 Roguelike 或生存遊戲中，地圖的生成是隨機的，但為了保證遊戲的平衡性和可玩性，地圖元素的生成（例如資源點、敵人分佈、特殊建築）往往會受到一些偽隨機規則的約束，以確保不會出現過於有利或不利的開局。
- **小遊戲和迷你事件：** 遊戲中的一些小遊戲或隨機觸發的迷你事件，其結果也可能受到偽隨機的影響，以控制獎勵的發放頻率和玩家的參與度。

---
*以下與課程較無關，僅供參考*

### 對遊戲機制的影響
**思考一下：這種偽隨機機制，相較於純粹的隨機，對你的遊戲體驗產生了什麼影響？是更好還是更糟？為什麼？**

相較於純粹的隨機，偽隨機機制通常旨在提供更平滑、更符合玩家期望的遊戲體驗。

- **避免極端的負面體驗：** 回到我們連續 13 次不暴擊的例子。雖然理論上這是可能發生的，但在採用了 PRD 等偽隨機機制後，隨著不暴擊次數的增加，下一次暴擊的機率也會提升，從而降低了玩家連續遭遇極端不幸的機率。這有助於減少玩家的挫敗感，讓遊戲過程更加順暢。
- **創造更「可控」的感覺：** 雖然結果仍然帶有隨機性，但偽隨機能讓玩家感覺到自己的努力正在累積回報。例如，在抽卡遊戲中，保底機制明確地告訴玩家，在一定次數後必定能獲得稀有物品，這給予了玩家明確的目標和投入的信心。PRD 在戰鬥中也能讓玩家感覺到，即使這次沒有暴擊，下一次暴擊的可能性也在增加，而不是完全聽天由命。
- **符合心理預期：** 我們的直覺往往會認為事件的發生應該是相對均勻的。如果一個 10% 概率的事件連續 10 次都沒有發生，我們會開始懷疑是不是「出錯了」。偽隨機機制在一定程度上迎合了這種心理預期，讓隨機事件的發生更加「合理」。

然而，偽隨機並非完美無缺。過度或不當的偽隨機設計也可能帶來負面影響：

- **策略性的喪失：** 如果偽隨機的規律過於明顯，玩家可能會利用這些規律進行投機取巧，例如在暴擊率即將提升時才釋放關鍵技能，這可能會降低遊戲的策略性和挑戰性。
- **虛假的期望：** 如果玩家沒有意識到遊戲中的「隨機」是經過調整的，可能會對真實的概率產生誤解，進而做出不理智的決策，例如在低概率事件上投入過多資源。




**思考一下：遊戲設計師為什麼要花費心思設計這些看似「作弊」的機制？背後的目的是什麼？**

遊戲設計師設計偽隨機機制的核心目標是為了**優化玩家體驗**和**維持遊戲的生命週期**。具體來說，他們希望通過偽隨機達成以下目的：

- **提升玩家留存率：** 避免玩家因長時間的挫敗感而放棄遊戲。適度的「幸運」和可預期的回報能夠激勵玩家持續遊玩。
- **平衡遊戲難度：** 純粹的隨機可能會導致遊戲難度波動過大，偽隨機可以幫助維持遊戲難度的穩定性，讓玩家在挑戰中感受到成就感，而不是完全被運氣左右。
- **引導玩家行為：** 通過調整不同事件的「偽」概率，設計師可以引導玩家參與某些遊戲內容或消費某些商品。例如，提高首次抽卡獲得稀有物品的概率，可以吸引新玩家。
- **增加遊戲的趣味性和不可預測性：** 適度的偽隨機能讓遊戲充滿驚喜，玩家永遠不知道下一次會發生什麼，從而保持遊戲的新鮮感。
- **商業考量：** 在一些免費遊戲中，偽隨機機制（例如抽卡保底）也是重要的營收來源。通過精心設計的概率，開發者可以在吸引玩家付費的同時，避免過度損害玩家的遊戲體驗。