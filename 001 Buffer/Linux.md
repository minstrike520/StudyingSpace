# 講稿—Linux
1030-1220 1:50 [[#動機]]完成；[[#Linux的沿革]]完成；[[#Linux架構]]完成至「什麼是作業系統」 
## 自我介紹
## 動機
- Linux在你生活的各個角落
	- **互動：大家平常使用的作業系統是甚麼？**
	- windows, macos, ios, android... (可能有Linux?)
	- 這個世界上所有運行的電腦，大多數是基於Linux的!
- Linux出現的場景
	- 電腦伺服器
	- 個人裝置
	- 超級電腦
- 學Linux有甚麼好處？
	- 因為前述，Linux很長出現在資訊世界的基礎建設，所以瞭解之，就能打開往資訊世界的大門
	- 寫程式時很好用的工具
		- 就算你使用的是Windows，還是不可避免地會用到跟Linux有關的工具，比如MinGW
	- 看起來很酷炫
- 課程大綱
## Linux的沿革
- Linux歷史-1：UNIX
	- 1970s
	- 早期Unix是工程師很喜愛使用的系統。
	- 這個系統源自一個失敗的大專案：原先MIT等機構想共同開發一個功能齊備的系統叫Multics，然而目標定得太大，資金短缺、計畫延宕，以失敗告終。
		- 當時他們想開發一個可以同時給上百人使用的電腦(而同時期大約只有幾十台)
		- **功能齊備**：
	- 團隊中的Thompson當時為了執行他的遊戲，決定重新開發一個簡單版的Multics，當時已經具有Shell、檔案系統等架構。
	- 原團隊的幾位開發者(**圖片是其中的兩位**)之後也投入了這個小系統的開發。
	- 當時他們做了一個大膽的創新：合作開發了一個**編譯語言**C語言，並且使用C來開發Unix。當時的人都是使用更低階的組合語言來開發，然而他們開發的C具有強大的優勢，就是移植性好。
		- **編譯語言**：比如，原本的組合語言就像是各國的語言一樣，每種型號的機器都不一樣；C語言就是一個像數學語言一樣的東西，可以翻譯成各種原本的語言。而**編譯器**就是一個自動翻譯機。
	- 因為移植性好，而且一開始免費，所以當時使用者不斷增長。
- Linux歷史-2：GNU
	- 1980s
	- Unix流行起來之後，當時團隊所屬的公司 AT&T決定商業化，不再像以前可以自由修改(閉源)。
	- Stallman認為程式應該是可以分享，並且讓他人都可以輕鬆修改、更新的，於是便決心要打造一個「自由」的系統。
	- 發布了GNU宣言，啟動了「**自由軟體**基金會」並前後開發了許多工具，包括重寫當時也被閉源的C編譯器。
		- 自由軟體：並非**免費**，而是可以自由修改與發布(所以在遵守授權之下，也可以拿來賺錢！)
	- 當時，計畫中也包含要創造一個作業系統，但是當時有一個更熱門的系統正在崛起
- Linux歷史-3：Linus Torvalds與Linux
	- 1990s
	- Torvalds的外祖父是統計學家，從小他就耳濡目染，學習電腦知識與組合語言
	- 直到他在就讀CS時，個人電腦已經發展到了一定程度，然而，Unix效能不夠好，而且閉源，於是Torvalds找到了另一個相容的系統Minix進行修改。
		- Minix，Tanenbaum
	- 他將撰寫的作業系統**核心**公開發布到網路上，引起許多其他開發者的興趣，有許多熱心人士紛紛寄電子郵件給他指教或提供資源。
		- 當他缺乏相關硬體可使用時，有人主動提供該電腦的驅動
		- 其他人也可以執行他做的系統。當遇到問題的時候，會主動跟他回報。
			- 最好的測試就是讓使用者測試
	- 也就是說，他無形間開展了一個「虛擬團隊」，可以說是遠距工作的先鋒！？
	- 因為這樣的作法前無古人，而GNU團隊則相對對開發比較嚴謹保守，所以Linux迅速獲得很大的關注度。
	- 最後，因為Linux成為了眾多Unix-like中最熱門的系統，他便跟GNU的軟體相輔相成，最後許多人稱現在大家所使用的Linux系統叫做「GNU/Linux」。
- 總結
	- 上述只是作業系統發展的一部分，往前許多重要理論的發展，以及往後微軟的崛起，都沒有講到。不過，在這段故事中，我們可以學到許多事情：Unix的出現為業界創造了一個大家跟隨的標準；GNU計畫宣傳著自由軟體的精神，並開發出許多至今仍在使用跟演進的軟體；而Linux則創造了網路協作的先例，日後成為軟體工程文化很重要的一個部分。
## Linux架構
- Linux的特點
	- 文字型介面成熟
		- 平常我們所使用的裝置，平板、手機、電腦，基本上幾乎都是圖形介面；然而，Linux雖然也有圖形介面，但是文字介面卻有非常多人在使用；所以有很多人願意開發只給文字介面使用的應用程式。
		- CLI：Command-line Interface，指令列介面(嚴格來說不能只說是文字介面，不過方便起見姑且這麼稱呼)
		- 後面會更詳細地介紹CLI
		- 比如等一下可以在文字介面跑Python(**展示**)
	- 系統開放，容易修改
		- 其實文字型介面會流行也跟這個有點關係。Windows雖然還是有保留CLI(CMD)，但是因為微軟有想要走的發展路線(尤其視窗介面是Windows當初的賣點，雖然是跟MAC抄的)，所以CMD就會被排擠。
		- **舉例** 軟體安裝，Windows很麻煩，要一直點；Linux大部分主流軟體卻不用，只要簡單打幾行指令就可以了。
			- 一些場合中，指令比滑鼠點擊要方便的多了！今天的課程會充分展示這點。
		- 另外，不知道有沒有人曾經研究過改桌布、改圖示等等？喜歡玩這方面的看過來！其他的裝置可能改的有限，但這可是Linux的強項。(...略舉例...) 雖然本課不會教，但是有興趣的同學可以自行了解
	- 相容開發工具
		- 前面有講到，伺服器跟超級電腦都多數跑Linux，而且以前Linux主要是工程師在玩，所以理所當然，工程師在用的東西，當然要優先可以在Linux上跑啊！
- 什麼是作業系統
	- 講了半天作業系統，作業系統到底是個什麼東西？
		- **互動**：你覺得作業系統有什麼要素？
	- 軟體工程的基石：在Linux的時候我們提到，Torvalds之所以想要自己寫作業系統，就是因為本來的系統太慢。所以說，軟體的執行速度差別，除了硬體本身的效率，作業系統也佔了一個非常重要的關鍵！
		- 所以才會有人在比同規格的Mac跟Windows、iOS跟Android誰比較快。每個人的想法都不一樣？
	- 控制電腦硬體：作業系統其中一個要做的事情就是把硬體「**抽象化**」。
		- **比喻**：電燈開關與電燈
		- **比喻**：餐廳服務員、廚師與廚房本身
	- 控制程式的程式：雖然都是軟體，但是作業系統就是一個老大。不管下面的嘍嘍要做什麼，都要聽老大的話。
		- 有沒有看過工作管理員？比如記憶體吃到100%了，那麼作業系統可能就會爆炸。
- Linux架構-1：Kernel
	- 上一頁說到，作業系統其中一個關鍵功能就是控制電腦硬體，而核心就是負責這個工作。
	- 我們說Torvalds「開發」了Linux，說的其實是他開發了Linux核心，他可以說是整個Linux系統最關鍵的基礎。
	- 管理資源：Kernel有數個關鍵部分。I/O, CPU, Memory, Storage, Network等等，這些部分各自對應不同硬體。
	- 權限控管
		- 虛擬記憶體機制
		- I/O系統呼叫
		- 中斷請求
	- 排程
		- 排程，就是系統面對多個任務時，需要決定誰先誰後。
		- 排程是一門大學問。處理不當會怎麼樣呢？一個不重要的任務，可能會一直被延宕，直到天荒地老都沒被處理(被形容為餓死)；重要的基本任務面臨系統超載時，會導致卡頓等等。
		- 而Kernel其中一個重要使命就是好好處理各個任務的執行先後順序。
	- 使用Top可以監控系統資源的使用
- Linux架構-2：FHS
	- 核心掌握了硬體的控制權之後，我們就會想要觀察他核心究竟做了什麼事情，或者可以做什麼事情。除了像top這樣一目了然的工具可以觀察之外，Linux的檔案系統則是一個讓我們可以系統化觀察核心運行的情形的工具。
	- 照我們平常理解的電腦裡，「檔案系統」通常就是拿來放文件的，或者可能放應用程式資料，以及圖片、影片等等。然而，在Linux的世界之中，所有的硬體都會顯現成「檔案」的模樣，即「一切都是檔案」。
	- 這邊來介紹幾個資料夾
		- 首先要先講，Windows的最上級結構是C:/或者D:/，但是Linux的最上層是/稱作「根目錄」。
		- /home/xxx：xxx就是使用者的名字。Windows系統也有相似的結構，就是桌面的上一級。
		- /etc：這個資料夾就是拿來放各種設定檔。我們一般做設定是不是都要打開一個系統的APP？在Linux中，雖然也有類似的東西，但是這些APP不外就是幫使用者修改這些設定檔而已。
		- /bin：這個資料夾則是放執行檔的地方。長得很像是手機打開「所有程式」會看到的畫面。
		- /dev：這個資料夾尤其特殊，裡面的檔案就是上面所說的，將各個硬體都以一個檔案代表。
- 權限管理
	- Linux跟Windows一樣，可以同時存在多個使用者。而因此，我們就會需要管理「存取權」。(**講圖片**)
	- (**講圖片**)
- LINUX架構-3：Shell & CLI
	- shell的定義就是「提供操作介面的軟體」。我們平常使用手機、電腦時，除了在使用APP之外，我們在桌面、檔案總管等系統程式時，這些實際上都算是一種shell。
		- 沒錯，Windows的檔案總管就算是一種shell！他完全符合定義，即「提供操作介面」。
	- **舉例**：繼續用廚房的例子來理解，如果說硬體是餐廳的建築、桌椅、廚房，而廚師是Kernel，那麼Shell就是服務生了。如果餐廳人手充足的話，你不應該直接跟廚師點菜；同理，你也不會直接跟Kernel接觸，而必然會經由Shell的轉知。
	- 雖然kernel是一個系統運行的關鍵，然而真正決定我們使用情景的卻是Shell。根據當前的需求選擇適當的Shell可以幫助我們更順利完成工作。
	- CLI
		- 平常我們使用的幾乎都是GUI，但是今天本堂課卻是要教大家使用文字介面。
		- 既然圖形介面這麼好用，為什麼卻要使用這種視覺上很枯燥，而且全是英文的文字介面？
		- 第一。CLI嚴格來說是「指令列介面」，所以在這個介面裡所作的一切操作全都是指令。那麼，我們就可以像寫程式一樣，寫一個「腳本」，讓電腦一條一條自動執行，我們就很省事了。
		- 第二。顯示文字比顯示圖像簡單多了。有沒有用過那種Windows老電腦，跑起來會很卡？現在的圖形介面一直進步，消耗的資源也越來越多，所以對於想要節約資源的場景，比如server或舊電腦，我們就可能會想要使用CLI。
		- 第三。面對GUI，我們需要一支滑鼠跟一個鍵盤，但是面對CLI我們只要鍵盤就好了。沒什麼人有辦法把「點滑鼠操作圖形介面」做得特別快；但是文字介面，只要打字變快，操作就變快了。
			- 特別是對頻繁的指令操作，如前面說的安裝軟體，如Windows那樣的安裝方式用多了會讓人很煩躁，而CLI反而比較清爽跟簡便。
- CLI-1
	- (*參考簡報，必須重構簡報...*)
- (*課程要怎麼收尾?*)


---
## 有待修改與增加
- 在歷史沿革之後加入**現況**，介紹DISTRO的概念，LINUX如何帶來商業化
- 可以結合Discord機器人！
- 留一些資料故意給學生去查？
- (系統開放，容易修改) 新增簡報，給有興趣Ricing的人一些關鍵字，拍起來回家去搜尋
- Windows跟Linux的差異
- 加入SSH
	- 在實作環節加入讓學生SSH進去一個Server！？
- Kernel
	- Kernel 跟 Driver的關係
	- 排程：完全公平排程器，CFS
	- 把工具使用統一到第三部分
- FHS
	- 多介紹一些資料夾
	- 考慮有人根本對資料夾的結構完全沒概念。
	- 說明一下，Linux的執行檔是沒有副檔名的。
	- 講「管理者」與一般使用者的root權限
- CLI
	- CLI跟GUI的比較？
## 材料

- **Windows = iPhone**（封閉、受控但好用）
- **Linux = Android**（開源、可客製化）
- Windows 跟 Linux (Ubuntu) 安裝Python的速度 -> Package Manager
- 為甚麼最後大家用的是windows而不是linux？
- 如果 Linux 這麼重要，為什麼大多數人沒聽過？
- 黑客與開發者喜歡 Linux，因為它「開放、免費、可客製化」
- **「Windows 主要是用來跑個人電腦，而 Linux 則是資訊世界的基礎。」** 
- **互動：買Windows要花多少錢？**
- Windows 11大約三千以上
- 一般人要怎麼安裝Linux?